{% extends "base.html" %}
{% block content %}
<h1>Questions</h1>
<a href="/ui/questions/create" class="btn btn-primary mb-3">New Question</a>
<ul class="list-group">
{% for q in questions %}
<li class="list-group-item">
<div class="d-flex justify-content-between">
    <div>
        {{ q.question_text }}
        {% if q.image_types %}
        <div class="mt-1">
          {% for t in q.image_types %}
          <span class="badge bg-secondary me-1 mb-1">{{ t.name }}</span>
          {% endfor %}
        </div>
        {% endif %}
        <ul class="list-group mt-2">
        {% for opt in q.options %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ opt.option_text }}
            <span>
                <a href="/ui/options/{{ opt.id }}/edit" class="btn btn-sm btn-secondary">Edit</a>
                <form method="post" action="/ui/options/{{ opt.id }}/delete" class="d-inline">
                    <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                </form>
            </span>
        </li>
        {% endfor %}
        </ul>
        <a href="/ui/questions/{{ q.id }}/options/create" class="btn btn-sm btn-primary mt-2">Add Option</a>
    </div>
    <span>
        <a href="/ui/questions/{{ q.id }}/edit" class="btn btn-sm btn-secondary">Edit</a>
        <form method="post" action="/ui/questions/{{ q.id }}/delete" class="d-inline">
            <button type="submit" class="btn btn-sm btn-danger">Delete</button>
        </form>
    </span>
</div>
</li>
{% endfor %}
</ul>
{% endblock %}
